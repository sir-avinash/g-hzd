function [y1] = nnEqu_full(x1)
%NNORBITLIBRARY_FULL neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 26-Jul-2017 12:41:25.
% 
% [y1] = nnOrbitLibrary_full(x1) takes these arguments:
%   x = 5xQ matrix, input #1
% and returns:
%   y = 1xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-5.23248446861829;-0.407383750170051;-5.24979589094222;-2;0];
x1_step1.gain = [0.191113801865534;2.45468799278954;0.190483596081394;0.5;1];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.061939838902628705;-0.029823332227990308;0.3334863827144916;0.3422483906141045;0.070860531132746582;-0.02863637127512049;0.37463563504200664;-0.030221323949878823;0.62234596488490312;-0.017141837262833855;1.8391674156738194;-0.14548482500378054;-0.26052113484232775;-2.6393095760400564;-0.25887027134029533;0.34837602424823461;-0.32075514679293493;2.8359979630433618;1.3655193109468884;-0.06213686596706524;5.2127757836346458;-0.6605602451760908;0.018391234677591736;5.391793937806109;-0.0179536226534763;-4.3648067391489116;-1.4043974134178985;10.725694623295299;-0.87047173257505495;9.9383374077117654;0.2338059596465169;-0.05713898538754969;0.24720082145741676;0.42476893539242205;-0.73126869953037776;0.086008319471052447;-0.22744565796328498;0.82652994474482089;1.20466858300572;2.5857122642497345;0.37543921218465631;-0.59064891903229222;0.9892063864408277;0.6225485883662335;-5.5271358865486127;0.074943563947002606;1.2114309136764216;0.31207241222434179;-1.1988129948316673;4.1929711079665877];
IW1_1 = [-0.042868995023683874 -0.021526892312331375 -0.13921610417420321 0.13758685534066203 -0.091619676394802688;-0.034871511842673023 -0.013193032368811685 -0.11781178506626312 0.15644191485156908 -0.055285817302730078;0.025588873675713972 -0.38216608437034222 0.051817076012736239 -0.39988407816005972 -0.040665033722370729;-0.12916489083578614 0.16719594905100804 -0.12261037524872137 -0.10388298476813747 -0.14857534661558114;-0.22176562577822886 0.11912485637624651 -0.57348113616797869 0.30100373643579748 0.24973401269580189;0.090776743895564324 -0.014508496687445353 0.14595911517539031 -0.15976708277317569 0.044738748125435407;-0.089287519636902457 0.33663055808107833 -0.20648584056766692 0.11358436785071865 0.29451404846055057;0.0089806397210991391 0.16628337876099059 0.046822122215876463 -0.056306879901183091 0.6999457310058238;0.040282499939392424 0.042047237339907041 0.061723487957912257 -0.3037109008940454 0.19076679680688691;-0.052554207584183485 -0.011980443416175919 -0.14616269233401 0.14079320811957852 -0.069327755653347978;-0.090530042133155547 0.80016669277794916 -0.20783789596806251 0.75697255329629809 -0.16503212182695962;-0.044905769140405477 0.39090674031506967 -0.1023121016664784 -0.082470764811370986 -0.59673715342267775;0.15213156809620795 -0.2331752845041756 0.40848869062319992 -0.27595304678179566 -1.1363600772483264;-0.11118949954009816 0.62318373770085289 -0.26765561498244239 0.7056532852641112 -1.5965936469706608;-0.086992385145624962 0.1329564332587182 -0.027544685888609893 -0.23370524391547201 0.10812036974123454;-0.0028032771071038222 0.057547162903200708 0.044345030642185472 -0.16249184910452014 0.16858678349000636;-0.023905401543271906 -0.23140273978560513 -0.091219979783054045 0.096439207608836897 -0.18366624167007414;-0.068216348282268774 0.15367620221380088 -0.17193112949756051 0.15297088283972177 2.806846171069143;0.11391811303483455 -0.76050293149288051 0.2836123286151972 -0.70358088749047976 -0.61581461692945438;-0.085761460515177509 0.65143160223285745 -0.19840267000468262 0.72617037889093228 0.37926632104627234;0.094710593584709069 -0.21487606207128515 0.24525119580015947 -0.2335690698944605 5.1921333302996286;0.030189478543126345 -0.021410690127708076 0.0947422755713173 -0.31957765613175465 -0.48053314547947534;0.053954418319801363 0.0097544713209143305 0.14785668067000832 -0.14195371610087165 0.069567308427915975;-0.15179675977022508 0.29594284048238961 -0.39446195939951606 0.3678227530511789 5.3713438072967365;0.078715868354642005 -0.0088574564048173477 0.15087944685429841 -0.15401029515046916 0.050764199671534671;0.14062547023731503 -0.26161988992769875 0.3631379698418753 -0.33694501863190141 -3.9408599951888439;-0.17809584509724166 0.40035076524202595 -0.46358459264148388 0.45757805969407495 -0.99427556443626874;-0.15579166428378297 0.330078393711012 -0.40096308663002822 0.38129745994510944 10.304872391805349;0.075242146844303859 -0.54583872684930446 0.16980326093161449 -0.12352059462033994 0.34026537791429046;0.13404287622236155 -0.30549094629972601 0.34781072285019454 -0.33820718982974696 9.4171367547862541;0.06576184281780606 -0.40536611742669676 0.17130905948307135 0.0052294944608497589 -0.56097193117898747;0.033153530290213069 0.25725415304857729 4.0257132907754603e-05 0.021362099209239118 0.063000402630503174;0.020706097522645243 0.01507079974814356 0.10714301889738274 -0.17798948504623721 0.1541983464447553;0.0062221860559031131 0.02183212239903776 0.050526854826241224 -0.21938592219764799 0.1352559488880393;-0.16526340703890446 -0.21864423739588001 -0.43868578538875419 0.032859557189939666 0.50342322788438543;-0.012934757499862209 -0.0086336101878232898 -0.11924620182523368 0.16549700465643163 0.044672624704118098;-0.029655183010001699 -0.0064330339033156179 -0.12724568680549297 0.17556518343477623 -0.14905472252644869;0.029530881319632291 0.24111593022693234 0.087696790201537436 -0.30655979909786391 0.81888958730221684;0.050336666346820977 -0.31675890636015247 0.11846809450753165 0.031088579422636771 1.124846735631261;0.018915011049852729 -0.029692496079490403 0.055857066652385295 -0.035364655358238996 2.8835108658493649;-0.1807372508535906 0.36256965020432635 -0.48083370773754158 0.39610981555594998 1.0735264605755876;0.19683190411538595 -0.4364425399386917 0.50856296732779349 -0.51023818136902077 -0.30120981541474207;-0.080297912212175665 0.71497804771517171 -0.18176850713250636 0.52416762378709991 -0.1892635104154046;-0.19766010071315726 0.087815507784003238 -0.49353028996290788 0.22776039766778625 -0.38782597499113419;-0.13965384631104902 0.3177405723511833 -0.36173866191264953 0.3749798801684488 -4.6633978698598639;0.12514505100390616 -0.047822933830661218 0.19789803729982167 0.097593718466257487 0.090340220717879977;-0.051607892663683493 -0.10101791451319946 -0.14257196172944681 -0.16270703595530464 1.1092067458011332;0.087923734303828674 -0.43778589462101974 0.20513470684875595 -0.6055498802299828 0.61910915263777744;0.1406684749953579 -0.36482984292341292 0.36833521958859128 -0.13308184725980485 -1.1653325589557384;-0.1446125317062692 1.0113420617528692 -0.33250189572415007 0.8671335101165164 1.7285114860866457];

% Layer 2
b2 = 0.88787017671941981;
LW2_1 = [-0.63286759982458496 -0.46993726095160737 -3.6650322266425319 -0.31127224824673771 0.50083090274302722 0.62158958160276312 0.70161945381927282 -0.77117601752517295 0.78894326378082968 -0.61838170038377271 -1.9237576087999027 -1.0088303120433824 -0.82291696248012569 -1.0371755016519966 -0.38250133465791397 0.71480526861570004 -0.72294543192367811 -3.5028452772009362 1.2581238934971923 -0.65513631595290311 1.8446711262771951 1.2560743222684327 0.62227935052751338 -1.8270108882340355 0.62399815875821596 -4.3258891238957036 2.1076487685116945 -1.0750231544980577 1.6550573239492445 1.8710925061832095 1.2146475600172153 0.7103929797109173 0.69036643681526189 0.67818094244592986 0.42882326081113892 -0.61682728393655328 -0.68775930165515164 -0.7633020354449126 1.3157134743842733 1.3491603756487733 -1.3836187095077508 -0.84435394666519925 1.2395351096325256 1.0335971852731913 5.4463963656734542 -0.58031980632941771 1.3671076406709193 0.8787823491077118 0.72832582434485227 1.2397467483678319];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.0249356952254218;
y1_step1.xoffset = -40.1031529684604;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
