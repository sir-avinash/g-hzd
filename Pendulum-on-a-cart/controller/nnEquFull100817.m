function [y1] = nnEquFull100817(x1)
%NNEQUFULL100817 neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 10-Aug-2017 11:08:30.
% 
% [y1] = nnEquFull100817(x1) takes these arguments:
%   x = 5xQ matrix, input #1
% and returns:
%   y = 1xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-2.5;0.770892058656885;-7.45692874206383;-5.37960675217757;0];
x1_step1.gain = [0.4;1.25014959893609;0.134103467337578;0.185887193259101;3.05128205128205];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.73075531180035791;18.663906240829331;-4.8590289691866797;22.239723335910252;42.189522786153034;15.796648139424276;-20.480997627464074;26.302777520433072;12.482570808888067;0.77407481362772979;3.9523559244832729;-27.113548309103894;38.755352465466288;1.0915213177024368;-0.058960184791723609;-1.0628843996627664;-1.3831597352986678;36.903253775011649;-4.4264019044167098;16.462762743313515;16.437723880994092;12.832903256166007;-0.42217131466262742;-0.065645547871722415;0.37924351372689979;-0.57348998657610428;0.57300352566023027;0.038568596174890876;-0.14042931257691124;0.045207080910272798;0.4457525078318319;-0.13410566426712556;0.89280760987178054;-4.0429007353127586;-4.8777958431476263;-0.72258867597251852;-1.5101268805550274;0.21775612518753062;0.017529197570456845;42.164046546614209;1.6505225362913121;4.9059249265330873;-13.122935017524878;0.049475531367253009;-11.380395186933162;-37.955256958040714;26.819935119619998;-32.003869226200294;17.415104033054408;3.3430435979959148];
IW1_1 = [-1.1340130420156898 3.3095002244880858 -3.9489224087341173 5.0509002538542234 0.45310337078432872;14.71337001009152 -6.5104307370658914 18.32866033416661 -7.2493050988471808 0.40623846879085285;-2.7492941490041609 9.4095990899234998 -9.8790973358878595 12.950868219157114 -0.78277380007121655;-18.162423125397083 -4.5676838566601203 -4.3107350328611629 -6.3502633385178235 0.79283894735711335;-46.768303199522919 4.7931492989648961 28.973701857058877 -19.811568135502636 -3.9088091478334115;-11.809181389981847 5.2817445285733253 -12.90955884864357 3.5446086613301548 1.3099931261537126;20.873307456278418 -6.7915070659002232 11.30339555371275 -3.8322441745313429 -3.0704655979811282;-17.693389798302906 0.46143450861416857 -17.263277142921922 0.66052593687056416 0.20313057856527614;10.33447808252815 0.89252803000853631 13.147736407179725 -9.2008434323471988 -0.38019368632193706;0.028251158148588557 -1.8762836291476621 1.0017163953221031 -2.4574588442627241 -0.67666445595965707;-0.60559327790636397 -0.23094785949945473 -4.1908613347745689 1.262471263990508 -1.2484112130793392;29.452418502983559 -4.176311334810868 14.918487703659853 -5.6566421239080187 0.55392280175942432;50.61591831366588 -17.517950373239973 23.083798500241365 -12.264241458617594 -0.10843963339603709;-1.0014544471725444 3.0554812318719313 -3.4552479428222735 4.2458238014059297 0.25812320831549884;0.82161900992687398 -2.415796646714587 3.0678173452638906 -4.5172960918080296 -0.070769372080992127;0.53984120753388287 -0.97897403663282923 1.4771667002908686 -1.6908888002997753 0.5017146586561958;-0.43549886754859374 1.1873321399042529 -1.6446405924374403 1.8650304678449534 -1.3190640047890398;28.762666237565174 -5.7244849926899901 32.402011776868399 -8.6493135670338379 -0.2627156810263932;2.8138824595709164 -9.7759489355938438 9.4842846840919321 -13.875849589803899 -0.55743100989907157;-15.656465071369569 5.7906371482971402 -8.0514894877142869 -0.31004432876124577 2.5576446136100386;-19.546664381675786 9.4993177458587361 -28.340004639051092 21.181431288625294 -4.6511991005519837;10.389191824979816 1.358814716446082 12.758173217005531 -8.3850909027898997 -0.13863467979950214;-1.0966841062826418 2.2485706913568242 -3.3128308758223053 3.1600355473769537 0.4803891075564436;0.70022502831427658 -0.83473219155381539 2.1102586835141239 -1.7818546537507634 -0.14071435404662183;1.1328792580661946 -2.2535130038795854 3.3792491395289725 -3.1665371504584492 -0.55132934133814748;0.22534588092442881 -0.015195470850815688 0.20496983410139 -0.24464853177827464 0.56051013327255594;0.073543188830611728 -0.31826767689431734 0.48092522278158434 -0.27537512403758735 -0.74128113813190499;-0.68593918706331292 1.8211062810084107 -2.3576202404794349 2.9037568773475075 0.056670311667603585;0.95058160351573429 -2.7501299981112544 3.3393759216222607 -4.0921648025431256 -0.20187795302843184;-0.14695499097240786 0.80139798812338958 -0.74842230575096891 1.1132367448441292 0.04706380783915777;0.74477978214884732 -1.9679837774707152 2.5028665268649037 -2.7369314412509396 -0.22147742017816408;-0.46471373348550704 1.361859453888949 -1.7172514038127782 1.8925721871507695 0.26456853775870814;-0.33574658598704277 0.35650327536999787 -0.66413564144065795 0.70264505478905848 -0.37879040617862192;0.50616965653389445 0.3047670599765398 3.4799721029620057 -0.98156859208466807 1.0742132718968778;-0.74423757503706867 3.0819994063544263 -3.4806377801935455 4.5873028590027953 0.85359728747941532;-0.40002929903253798 0.63458113637222602 -1.1324878987228009 0.80236738898300919 0.75442970392170439;-0.42269801560996623 1.1786517333148956 -1.6039761493448288 1.8690645251499043 -1.677218923290799;-0.28997643732509981 1.3389665648858966 -1.1940052345735905 1.8153544150155134 0.083938990868063793;0.53059791662051181 -0.68427760065282506 1.9856784908643412 -4.1128535972044036 0.056255063419345587;-46.590155026397333 4.5544602983841367 29.350770642539324 -20.241241176609226 -3.8585953039148206;0.41428909756282672 -1.1849737636588278 1.5992763217251638 -1.8783741032568801 2.0189689553518582;2.7928470238135379 -9.6010043147361834 10.044598452276372 -13.242523269128055 0.76600195166629437;-10.227925542289309 -2.0318452599158991 -12.115186102924524 7.345147667448833 -0.092799379592758899;-0.73953119305979376 2.0941683936097468 -2.7015274554459867 3.9395333842202578 0.045643663842961264;-5.1552210843842028 -4.6826452499750424 -7.8488948656953035 0.96920356276212771 2.0815685730847235;-49.437944789947217 17.112617031868968 -23.058735720151798 12.410372012039964 0.13265847501500413;-29.011659941492184 4.002291362358541 -14.65893265402233 5.4109755753587914 -0.53877064060278657;-33.09466866474061 26.261336909155656 -12.424750182945054 46.449996816089019 11.681157147384408;-17.23725349665451 6.0926805632695489 -8.4981236931525697 0.57018578658799657 2.6905454800447077;-1.3492886132059931 4.1491750646845036 -4.3916202277725791 5.5980972136673897 0.63727205439015289];

% Layer 2
b2 = -10.239711005733911;
LW2_1 = [-1.3928020677925381 18.559407839488998 3.8087340017667701 -0.59098014708387225 7.5571349758569557 -22.377811547117179 -18.371532336351407 14.737470957837468 5.3180046112889841 -0.66388380178343287 -4.8768549352297654 13.62182385857195 3.4483758839999892 -5.698480513002818 -9.2243911410230908 -6.2980297210819032 7.1194247712581049 -3.6078676066413218 0.17211876576084956 7.4651387297451297 0.061552176010499345 -12.402699660473363 14.707305988135152 1.9012946423628274 10.623992935773098 -15.609448391638255 -9.8092760894134035 27.390076822212983 11.283618394209681 -21.863440249234596 18.634238375004962 15.908968317122028 -25.373594513836849 -13.783297826784285 11.510753254839438 -4.9845586426261876 -9.4750771148961377 16.132556650458813 -0.24398767721005216 -7.5644378573684099 -3.5391018901140527 3.7200292000079447 -7.1836540145190488 -16.286344649690356 0.17481041060580618 3.6709525269195562 14.28650494729373 -0.56360704927744709 -12.625451533775488 -0.91029866859190012];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.0333333333333333;
y1_step1.xoffset = -30;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
